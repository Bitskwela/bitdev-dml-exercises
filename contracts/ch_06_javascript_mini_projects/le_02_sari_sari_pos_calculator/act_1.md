# Sari-Sari POS Calculator Activity

## Initial Code

```js
// Task 1: Create the Item Class
class Item {
  constructor(name, price) {
    // Add your code here
  }

  toHTML() {
    // Add your code here
  }
}

// Task 2: Create the Cart Class
class Cart {
  constructor() {
    // Add your code here
  }

  addItem(item) {
    // Add your code here
  }

  clearCart() {
    // Add your code here
  }

  getTotal() {
    // Add your code here
  }

  render(listEl, totalEl) {
    // Add your code here
  }
}

// Task 3: Wire Up the Form
function setupPOS() {
  // Add your code here
}
```

**Time Allotment: 20 minutes**

## Tasks for Learners

Topics Covered: ES6 Classes, Constructor, Methods, `Array.push()`, `Array.reduce()`, `Array.map()`, `innerHTML`, `toFixed()`

---

### Task 1: Create the Item Class

Create an `Item` class with a constructor that accepts `name` and `price`. Add a `toHTML()` method that returns an `<li>` element string showing the item name and price formatted with the peso sign.

```js
class Item {
  constructor(name, price) {
    this.name = name;
    this.price = price;
  }

  toHTML() {
    return `<li>${this.name} — ₱${this.price.toFixed(2)}</li>`;
  }
}
```

---

### Task 2: Create the Cart Class

Create a `Cart` class that manages an array of items. Implement:

- `addItem(item)` - adds an item to the cart
- `clearCart()` - empties the cart
- `getTotal()` - calculates total using `reduce()`
- `render(listEl, totalEl)` - updates the DOM with cart contents

```js
class Cart {
  constructor() {
    this.items = [];
  }

  addItem(item) {
    this.items.push(item);
  }

  clearCart() {
    this.items = [];
  }

  getTotal() {
    return this.items.reduce(function (sum, item) {
      return sum + item.price;
    }, 0);
  }

  render(listEl, totalEl) {
    const html = this.items
      .map(function (item) {
        return item.toHTML();
      })
      .join("");

    listEl.innerHTML = html;
    totalEl.textContent = this.getTotal().toFixed(2);
  }
}
```

---

### Task 3: Wire Up the Form

Create a function that sets up the POS system. It should:

- Listen for form submit to add items
- Validate inputs before adding
- Listen for clear button to reset the cart
- Re-render after each action

```js
function setupPOS() {
  const form = document.querySelector("#pos-form");
  const nameInput = document.querySelector("#item-name");
  const priceInput = document.querySelector("#item-price");
  const clearBtn = document.querySelector("#clear-cart");
  const cartList = document.querySelector("#cart-list");
  const cartTotal = document.querySelector("#cart-total");

  const cart = new Cart();

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const name = nameInput.value.trim();
    const price = parseFloat(priceInput.value);

    if (!name || isNaN(price) || price < 0) {
      alert("Enter valid name and price.");
      return;
    }

    const item = new Item(name, price);
    cart.addItem(item);
    cart.render(cartList, cartTotal);

    nameInput.value = "";
    priceInput.value = "";
    nameInput.focus();
  });

  clearBtn.addEventListener("click", function () {
    cart.clearCart();
    cart.render(cartList, cartTotal);
  });
}

document.addEventListener("DOMContentLoaded", setupPOS);
```

---

## Breakdown of the Activity

**Variables Defined:**

- `name`: A string representing the item's name, received from user input.

- `price`: A number representing the item's price. Must be parsed with `parseFloat()` from input.

- `this.items`: An array inside the Cart class that stores all Item objects.

- `sum`: The accumulator in `reduce()`, tracks the running total of prices.

- `html`: A string of combined HTML list items generated by mapping over cart items.

- `cart`: An instance of the Cart class that manages all cart operations.

**Key Concepts:**

- ES6 Classes:
  Blueprint for creating objects with shared properties and methods. Use `class ClassName {}` syntax.

- Constructor:
  Special method called when creating a new instance with `new`. Used to initialize properties.

- `this` Keyword:
  Refers to the current instance inside a class. Use `this.property` to access instance data.

- `Array.push()`:
  Adds elements to the end of an array. Used to add items to the cart.

- `Array.reduce()`:
  Reduces an array to a single value by applying a function. Perfect for calculating totals.

- `Array.map()`:
  Transforms each element in an array. Used to convert Item objects to HTML strings.

- `toFixed(2)`:
  Formats a number with exactly 2 decimal places. Returns a string.

- `parseFloat()`:
  Converts a string to a floating-point number. Returns `NaN` if conversion fails.

- `isNaN()`:
  Checks if a value is Not-a-Number. Used to validate numeric input.

**Key Functions:**

- `Item.constructor(name, price)`:
  Initializes a new Item with name and price properties.

- `Item.toHTML()`:
  Returns an HTML string representation of the item for rendering in the DOM.

- `Cart.addItem(item)`:
  Adds an Item object to the cart's items array.

- `Cart.clearCart()`:
  Resets the items array to empty, clearing all cart contents.

- `Cart.getTotal()`:
  Calculates and returns the sum of all item prices using `reduce()`.

- `Cart.render(listEl, totalEl)`:
  Updates the DOM by setting innerHTML of the list and textContent of the total display.
